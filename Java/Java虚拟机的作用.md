### Java虚拟机的作用

Java是高级语言，编译过后的的字节码是无法直接被机器直接识别的，所以需要虚拟机充当一个中间件，将字节码翻译为机器码，使设备执行。

之所以将Java字节码，是因为，Java翻译之后的机器码均为一个字节。
### 虚拟机的内存分布
![](..\images\内存分配.jpg)
总共两个方面5部分：
- 线程共享：方法区、堆、
- 线程私有：PC寄存器（存放各个线程执行位置的）、Java方法栈、本地方法栈
  Java中的.class,加载的时候，首先进入到，方法区中
  Java方法栈：当虚拟机在执行一个方法的时候，会在Java方法栈中开辟一直栈帧用来执行Java方法，存放局部变量和返回值，当方法执行结束，或者抛出异常，Java方法栈会将这个栈帧弹出

### 执行过程
执行过程就是将Java字节码转化为机器码的过程，转化的过程中有两种方式：
- 解释执行：将字节码逐条翻译为机器码，供机器执行，无需保存不占内存
- 即时编译：将一个方法中包含的所有字节编译为机器码之后再执行，类似预编译，编译之后的指令需要保存在内存中
  ![](..\images\编译过程.png)
  这两种方式都有优势：解释执行无需等待编译，即时编译执行速度快，但即时编译也有bug