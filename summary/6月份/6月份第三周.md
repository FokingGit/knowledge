#6月份第三周

### 6月19日

##### 使用PreferenceFragment

- 在开发设置页面的的时候，可以使用`PreferenceFragment`
- 在API28`PreferenceFragment`中被`PreferenceFragmentCompat`代替，功能目前下载看到的差别是，**icon**后者如果你不设置icon，最左边会保留图片的位置，而不是像前者如果不设置则，则没有图片的位置
- 使用的时候需要在在xml文件夹下创建以PreferenceScreen为根节点的配置文件，可以checkBoxPrefrence.listPrefrerence

##### 屏幕适配

- android中的dp在渲染前会将dp转为px，计算公式：
  - px = density * dp;
  - density = dpi / 160;
  - px = dp * (dpi / 160);

- 相关概念

  dpi：dots per inch，每英寸的点数，android中采用这样的描述

  mdpi：160dpi

  hdpi：~240dpi

  xhdpi：~360dpi

  xxhdpi：~480dpi

  xxxhdpi：~640dpi

  > Android中屏幕适配的关键是dpi，dpi的计算方式是：**宽高平方开根号/屏幕尺寸**，所以我们经常所说按照屏幕分辨率来确认的加载hdpi的方式是不正确的。

- 比方说我们UI提供了一套1080*1920的一套图，宽为360dp，设计师的初衷是让我们铺满整个屏幕，但是我们正真写成360dp的结果会是怎样？

  - A 设备（1080*1920 5英寸）dpi = 440

    最终宽度 px = 440/160 * 360 =990 

  - B 设备（1440*2560 5.7英寸）dpi = 515

    最终宽度 px = 515/160 * 360 = 1158

  这很明显和我们的初衷是不一致的

  所以需要我们动态的改变density，而不能使用系统提供给我们

  defineDensity = windth / 360

  当然还有文字的scaleDensity

  ### [今日头条适配方案](https://mp.weixin.qq.com/s/d9QCoBP6kV9VSWvVldVVwA)   

